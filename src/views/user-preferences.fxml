<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.PreferencesController"
            prefWidth="700.0"
            prefHeight="650.0">
   <top>
      <VBox alignment="CENTER" spacing="5.0">
         <Text text="User Preferences" style="-fx-font-size: 24px; -fx-font-weight: bold;">
            <font>
               <Font name="System Bold" size="24.0" />
            </font>
         </Text>
         <Text text="Customize your recipe recommendations" style="-fx-font-size: 14px; -fx-fill: #666;">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
         <Label fx:id="statusLabel" style="-fx-font-size: 12px;" />
         <Separator>
            <VBox.margin>
               <Insets top="10.0" />
            </VBox.margin>
         </Separator>
         <BorderPane.margin>
            <Insets top="10.0" bottom="10.0" left="20.0" right="20.0" />
         </BorderPane.margin>
      </VBox>
   </top>

   <center>
      <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background-color: transparent;">
         <content>
            <VBox alignment="CENTER" spacing="15.0" minWidth="400.0">
               <padding>
                  <Insets top="10.0" bottom="20.0" left="30.0" right="30.0" />
               </padding>
               
               <!-- Dietary Requirements Section -->
               <VBox spacing="8.0" style="-fx-background-color: #f8f9fa; -fx-background-radius: 8; -fx-border-color: #dee2e6; -fx-border-radius: 8;">
                  <padding>
                     <Insets top="12.0" bottom="12.0" left="15.0" right="15.0" />
                  </padding>
                  <Label text="ðŸ¥— Dietary Requirements" style="-fx-font-weight: bold; -fx-font-size: 14px;" />
                  <Label text="Select diets you follow (filters recipe results)" style="-fx-font-size: 11px; -fx-text-fill: #666;" />
                  <FlowPane fx:id="dietsFlowPane" hgap="12.0" vgap="8.0">
                     <padding>
                        <Insets top="5.0" />
                     </padding>
                  </FlowPane>
               </VBox>

               <!-- Intolerances Section -->
               <VBox spacing="8.0" style="-fx-background-color: #fff8e1; -fx-background-radius: 8; -fx-border-color: #ffe082; -fx-border-radius: 8;">
                  <padding>
                     <Insets top="12.0" bottom="12.0" left="15.0" right="15.0" />
                  </padding>
                  <Label text="âš ï¸ Food Intolerances" style="-fx-font-weight: bold; -fx-font-size: 14px;" />
                  <Label text="Select intolerances/allergies (these ingredients will be excluded)" style="-fx-font-size: 11px; -fx-text-fill: #666;" />
                  <FlowPane fx:id="intolerancesFlowPane" hgap="12.0" vgap="8.0">
                     <padding>
                        <Insets top="5.0" />
                     </padding>
                  </FlowPane>
               </VBox>

               <!-- Cuisine Preferences Section -->
               <VBox spacing="8.0" style="-fx-background-color: #e8f5e9; -fx-background-radius: 8; -fx-border-color: #a5d6a7; -fx-border-radius: 8;">
                  <padding>
                     <Insets top="12.0" bottom="12.0" left="15.0" right="15.0" />
                  </padding>
                  <Label text="ðŸ½ï¸ Cuisine Preferences" style="-fx-font-weight: bold; -fx-font-size: 14px;" />
                  <Label text="Select preferred cuisines (leave empty for all)" style="-fx-font-size: 11px; -fx-text-fill: #666;" />
                  <FlowPane fx:id="cuisinesFlowPane" hgap="12.0" vgap="8.0">
                     <padding>
                        <Insets top="5.0" />
                     </padding>
                  </FlowPane>
               </VBox>

               <!-- Calorie Range Section -->
               <VBox spacing="8.0" style="-fx-background-color: #f8f9fa; -fx-background-radius: 8; -fx-border-color: #dee2e6; -fx-border-radius: 8;">
                  <padding>
                     <Insets top="12.0" bottom="12.0" left="15.0" right="15.0" />
                  </padding>
                  <Label text="ðŸ”¥ Calorie Range (per serving)" style="-fx-font-weight: bold; -fx-font-size: 14px;" />
                  <HBox spacing="10.0" alignment="CENTER_LEFT">
                     <padding>
                        <Insets top="5.0" />
                     </padding>
                     <TextField fx:id="minCaloriesField" promptText="Min" prefWidth="80.0"
                               style="-fx-font-size: 12px;" />
                     <Label text="to" style="-fx-font-weight: bold;" />
                     <TextField fx:id="maxCaloriesField" promptText="Max" prefWidth="80.0"
                               style="-fx-font-size: 12px;" />
                     <Label text="calories per serving" style="-fx-font-size: 11px; -fx-text-fill: #666;" />
                  </HBox>
               </VBox>

               <!-- Buttons -->
               <HBox spacing="15.0" alignment="CENTER">
                  <VBox.margin>
                     <Insets top="15.0" bottom="10.0" />
                  </VBox.margin>
                  <Button fx:id="savePreferencesBtn" text="ðŸ’¾ Save Preferences"
                         style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-cursor: hand;"
                         prefWidth="160.0" prefHeight="40.0" />
                  <Button fx:id="resetBtn" text="ðŸ”„ Reset to Default"
                         style="-fx-background-color: #ff9800; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 13px; -fx-cursor: hand;"
                         prefWidth="150.0" prefHeight="40.0" />
               </HBox>
               
            </VBox>
         </content>
         <padding>
            <Insets top="10.0" bottom="10.0" left="10.0" right="10.0" />
         </padding>
      </ScrollPane>
   </center>
</BorderPane>